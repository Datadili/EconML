"0","#subset colnames that have the hh in them"
"0","holiday <- str_subset(colnames(film), ""hh"")"
"0",""
"0","#make the things in holiday ""add"""
"0","holiday_dummy <- str_c(holiday, collapse = "" + "")"
"0",""
"0","#day of the week dummies"
"0","weekend_dummy <- str_c(str_subset(colnames(film), ""dummy""), collapse = "" + "")"
"0",""
"0","#week of the year dummies"
"0","week_dummy <- str_c(str_subset(colnames(film), ""week_""), collapse = "" + "")"
"0",""
"0","#year of the week dummy"
"0","year_dummy <- str_c(str_subset(colnames(film), ""release_yr_""), collapse = "" + "")"
"0",""
"0","#combine"
"0","mod1 <- glue(""tickets ~ {weekend_dummy} + {week_dummy} + {year_dummy} + {holiday_dummy}"")"
"0",""
"0","#fit a regression model"
"0","reg_mod1 <- lm(as.formula(mod1), data = film)"
"0",""
"0",""
"0","film <- film |> "
"0","  mutate(pred_tickets = predict(reg_mod1, film)) |> "
"0","  mutate(abnormal_viewership = tickets - pred_tickets)"
"0",""
"0","film[, c(""tickets"",""pred_tickets"", ""abnormal_viewership"", ""sat_day"")]"
